'use client'
import { useAuth } from '@/context/AuthContext'
import Image from 'next/image'
import Link from 'next/link'
import React from 'react'
import userPlaceholder from  '../../public/images/userPlaceholder.png'

const Navbar = () => {
    const { user, setIsCartOpen, isCartOpen } = useAuth();
  return (
    <nav className='w-full h-[80px] py-[10px] px-[100px] flex items-center justify-between'>
        <Link href={'/products'}>
            <div className='w-[180px] h-[24px]  flex items-end cursor-pointer'>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5 15.875C10.5 16.1717 10.412 16.4617 10.2472 16.7084C10.0824 16.955 9.84811 17.1473 9.57403 17.2608C9.29994 17.3744 8.99834 17.4041 8.70736 17.3462C8.41639 17.2883 8.14912 17.1454 7.93934 16.9357C7.72956 16.7259 7.5867 16.4586 7.52882 16.1676C7.47094 15.8767 7.50065 15.5751 7.61418 15.301C7.72771 15.0269 7.91997 14.7926 8.16665 14.6278C8.41332 14.463 8.70333 14.375 9 14.375C9.39782 14.375 9.77936 14.533 10.0607 14.8143C10.342 15.0956 10.5 15.4772 10.5 15.875ZM17.25 8.75V13.25C17.25 15.438 16.3808 17.5365 14.8336 19.0836C13.2865 20.6308 11.188 21.5 9 21.5C6.81196 21.5 4.71354 20.6308 3.16637 19.0836C1.61919 17.5365 0.75 15.438 0.75 13.25V5C0.75 4.60218 0.908035 4.22064 1.18934 3.93934C1.47064 3.65804 1.85218 3.5 2.25 3.5C2.64782 3.5 3.02936 3.65804 3.31066 3.93934C3.59196 4.22064 3.75 4.60218 3.75 5V10.25C3.75 10.4489 3.82902 10.6397 3.96967 10.7803C4.11032 10.921 4.30109 11 4.5 11C4.69891 11 4.88968 10.921 5.03033 10.7803C5.17098 10.6397 5.25 10.4489 5.25 10.25V2C5.25 1.60218 5.40804 1.22064 5.68934 0.93934C5.97064 0.658035 6.35218 0.5 6.75 0.5C7.14782 0.5 7.52936 0.658035 7.81066 0.93934C8.09196 1.22064 8.25 1.60218 8.25 2V9.5C8.25 9.69891 8.32902 9.88968 8.46967 10.0303C8.61032 10.171 8.80109 10.25 9 10.25C9.19891 10.25 9.38968 10.171 9.53033 10.0303C9.67098 9.88968 9.75 9.69891 9.75 9.5V3.5C9.75 3.10218 9.90804 2.72064 10.1893 2.43934C10.4706 2.15804 10.8522 2 11.25 2C11.6478 2 12.0294 2.15804 12.3107 2.43934C12.592 2.72064 12.75 3.10218 12.75 3.5V11C12.75 11.1989 12.829 11.3897 12.9697 11.5303C13.1103 11.671 13.3011 11.75 13.5 11.75C13.6989 11.75 13.8897 11.671 14.0303 11.5303C14.171 11.3897 14.25 11.1989 14.25 11V8.75C14.25 8.35218 14.408 7.97064 14.6893 7.68934C14.9706 7.40804 15.3522 7.25 15.75 7.25C16.1478 7.25 16.5294 7.40804 16.8107 7.68934C17.092 7.97064 17.25 8.35218 17.25 8.75ZM13.8356 15.7072C13.77 15.5759 12.195 12.5 9 12.5C5.805 12.5 4.23 15.5759 4.16437 15.7072C4.1383 15.7593 4.12473 15.8167 4.12473 15.875C4.12473 15.9333 4.1383 15.9907 4.16437 16.0428C4.23 16.1741 5.805 19.25 9 19.25C12.195 19.25 13.77 16.1741 13.8356 16.0428C13.8617 15.9907 13.8753 15.9333 13.8753 15.875C13.8753 15.8167 13.8617 15.7593 13.8356 15.7072Z" fill="#FF4000"/>
                </svg>
                <h1 className=' font-semibold text-[16px] leading-[100%] tracking-[0] text-[var(--dark-blue)] p-[1px]'>RedSeam Clothing</h1>
            </div>
        </Link>

        {user ? 
        (<div className='w-[84px] h-[40px] flex gap-[20px] justify-between items-center'>
            <div 
            className='cursor-pointer'
            onClick={() => setIsCartOpen(!isCartOpen)}>
                <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1.25 0.25C0.835786 0.25 0.5 0.585786 0.5 1C0.5 1.41421 0.835786 1.75 1.25 1.75H2.63568C2.80558 1.75 2.95425 1.86422 2.99803 2.02838L5.55576 11.6199C3.94178 12.0385 2.75 13.5051 2.75 15.25C2.75 15.6642 3.08579 16 3.5 16H19.25C19.6642 16 20 15.6642 20 15.25C20 14.8358 19.6642 14.5 19.25 14.5H4.37803C4.68691 13.6261 5.52034 13 6.5 13H17.7183C18.0051 13 18.2668 12.8364 18.3925 12.5785C19.5277 10.249 20.5183 7.83603 21.3527 5.35126C21.4191 5.15357 21.4002 4.93716 21.3005 4.75399C21.2008 4.57082 21.0294 4.43743 20.8273 4.38583C16.0055 3.15442 10.9536 2.5 5.75 2.5C5.39217 2.5 5.03505 2.5031 4.67868 2.50926L4.44738 1.64188C4.2285 0.821088 3.48515 0.25 2.63568 0.25H1.25Z" fill="#10151F"/>
                    <path d="M2.75 18.25C2.75 17.4216 3.42157 16.75 4.25 16.75C5.07843 16.75 5.75 17.4216 5.75 18.25C5.75 19.0784 5.07843 19.75 4.25 19.75C3.42157 19.75 2.75 19.0784 2.75 18.25Z" fill="#10151F"/>
                    <path d="M15.5 18.25C15.5 17.4216 16.1716 16.75 17 16.75C17.8284 16.75 18.5 17.4216 18.5 18.25C18.5 19.0784 17.8284 19.75 17 19.75C16.1716 19.75 15.5 19.0784 15.5 18.25Z" fill="#10151F"/>
                </svg>
            </div>
            {/* <div className='size-[40px] rounded-full overflow-hidden'>
                <Image
                src={user.avatar || userPlaceholder}
                alt='suer image'
                width={200}
                height={200}
                className='object-center' />
            </div> */}
            <div>{user.username}</div>
        </div>
        ) :(
            <div className='w-16 h-[20px] flex gap-2 items-center cursor-pointer'>
            <div className='w-[20px] h-[20px] flex items-center justify-center'>
                <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.00098 6C8.65783 6 10.001 4.65685 10.001 3C10.001 1.34315 8.65783 0 7.00098 0C5.34412 0 4.00098 1.34315 4.00098 3C4.00098 4.65685 5.34412 6 7.00098 6Z" fill="#10151F"/>
                    <path d="M0.466147 12.4935C0.271263 13.0016 0.445325 13.571 0.875175 13.9046C2.56753 15.218 4.69299 16 7.00109 16C9.31154 16 11.439 15.2164 13.1322 13.9006C13.5618 13.5667 13.7355 12.9971 13.5403 12.4892C12.531 9.86354 9.98517 8 7.00404 8C4.02129 8 1.47427 9.86557 0.466147 12.4935Z" fill="#10151F"/>
                </svg>
            </div>
            <Link href={'/auth/login'}>
                <h1 className='font-medium text-[12px] leading-[100%] tracking-[0] text-[var(--dark-blue)]'>Log in</h1>
            </Link>
        </div>
        )}
    </nav>
  )
}

export default Navbar